<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Tic tac toe</title>
</head>
<body>

<script>
    let text ='';
    let arr = [];
    let createID=''
    let cnt= 0;
    let winner = '';
    let u=0, v=0;
    let x, y;
    document.write('<table>');
    for (let i = 0; i < 5; i++) {
        document.write('<tr>')
        for (let j = 0; j < 5; j++) {
            createID = 'R'+i+'C'+j
            document.write('<td id= '+createID+'>.</td>')
        }
        document.write('</tr>')
    }
    document.write('</table>');
    document.write('<button type=button onclick=caroX("X")>Play A</button>');
    document.write('<button type=button onclick=caroX("O")>Play B</button>');
    function caroX(a) {
        cnt = 0;
        if (!winner) {
            x = prompt('Please input x');
            y = prompt('Please input y');

            while (document.getElementById('R' + x + 'C' + y).innerHTML !== '.') {
                for (u = 0; u < 5; u++) {
                    for (v = 0; v < 5; v++) {
                        if (document.getElementById('R' + u + 'C' + v).innerHTML !== '.') {
                            cnt++
                        }
                    }
                }
                if (cnt === 0) {
                    alert('No winner found');
                    break
                }
                x = prompt('Please re-input x');
                y = prompt('Please re-input y');
            }
            document.getElementById('R' + x + 'C' + y).innerHTML = a;
            findWinner();
            if (winner === 'A') {
                alert('The winner is player A')
            } else if (winner === 'B') {
                alert('The winner is player B')
            }
        }
    }
    function findWinner() {
        winner ='';
        let i = 0, j = 0;
        for (i = 0; i < 5; i++) {
            for (j = 0; j < 3; j++) {
                if (document.getElementById('R' + i + 'C' + j).innerHTML === document.getElementById('R' + i + 'C' + (j + 1)).innerHTML &&
                        document.getElementById('R' + i + 'C' + j).innerHTML === document.getElementById('R' + i + 'C' + (j + 2)).innerHTML &&
                        document.getElementById('R' + i + 'C' + j).innerHTML === 'X') {
                    winner = 'A';
                    break;
                } else if (document.getElementById('R' + i + 'C' + j).innerHTML === document.getElementById('R' + i + 'C' + (j + 1)).innerHTML &&
                        document.getElementById('R' + i + 'C' + j).innerHTML === document.getElementById('R' + i + 'C' + (j + 2)).innerHTML &&
                        document.getElementById('R' + i + 'C' + j).innerHTML === 'O') {
                    winner = 'B';
                    break;
                }
            }
        }
        for (i = 0; i < 3; i++) {
            for (j = 0; j < 5; j++) {
                if (document.getElementById('R' + i + 'C' + j).innerHTML === document.getElementById('R' + (i+1) + 'C' + j).innerHTML &&
                    document.getElementById('R' + i + 'C' + j).innerHTML === document.getElementById('R' + (i+2) + 'C' + j ).innerHTML &&
                    document.getElementById('R' + i + 'C' + j).innerHTML === 'X') {
                    winner = 'A';
                    break;
                } else if (document.getElementById('R' + i + 'C' + j).innerHTML === document.getElementById('R' + (i+1) + 'C' + j).innerHTML &&
                    document.getElementById('R' + i + 'C' + j).innerHTML === document.getElementById('R' + (i+2) + 'C' + j).innerHTML &&
                    document.getElementById('R' + i + 'C' + j).innerHTML === 'O') {
                    winner = 'B';
                    break;
                }
            }
        }
    }
</script>

</body>
</html>